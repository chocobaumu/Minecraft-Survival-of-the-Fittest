playsound item.armor.equip_netherite hostile @a ~ ~ ~ 1.5 0.5
playsound block.respawn_anchor.set_spawn hostile @a ~ ~ ~ 1.5 0.5

particle crit ~ ~0.85 ~ 0.25 0.55 0.25 0.2 50 normal

scoreboard players add @s Choco.SotF.ScoreStorage.0 1
execute if score @s Choco.SotF.ScoreStorage.0 matches 5.. run scoreboard players set @s Choco.SotF.ScoreStorage.0 1

#scoreboard players set @s Choco.SotF.ScoreStorage.0 4

execute if score @s Choco.SotF.ScoreStorage.0 matches 1 run item replace entity @s weapon.mainhand with netherite_sword[item_name={"color":"red","italic":false,"text":"穿つ光のブロードソード"},lore=[[{"color":"gray","italic":false,"text":"攻撃力:"},{"color":"red","italic":false,"text":" +13"}]," ",[{"bold":true,"color":"gold","italic":false,"text":"穿つ光"},{"bold":false,"color":"dark_gray","italic":false,"text":"(右クリック)"}],[{"color":"green","italic":false,"text":"2"},{"color":"gray","italic":false,"text":"秒間のチャージの後、強力なレーザーを放つ。"}],[{"color":"gray","italic":false,"text":"放たれたレーザーは対象に"},{"color":"red","italic":false,"text":"1"},{"color":"gray","italic":false,"text":"ダメージ"},"を与えると同時に、",{"color":"gold","italic":false,"text":"炎上"},{"color":"gray","italic":false,"text":"させる。"}],[{"color":"gray","italic":false,"text":"レーザーは"},{"color":"green","italic":false,"text":"5"},{"color":"gray","italic":false,"text":"秒間持続し、照射を中止するか、"},{"color":"green","italic":false,"text":"5"},{"color":"gray","italic":false,"text":"秒が経過した場合、"}],{"color":"gray","italic":false,"text":"再びチャージを行う必要がある。"},[{"color":"gray","italic":false,"text":"このレーザーによるダメージは、"},{"color":"dark_red","italic":false,"text":"無敵時間を無視"},"する。"]," "],unbreakable={},tooltip_display={hidden_components:["unbreakable","attribute_modifiers"]},damage_resistant={types:"#minecraft:is_fire"},item_model="survivalotfittest:crimson_mech_saber",custom_data={SotF:Crimson_Mech_Saber},attribute_modifiers=[{id:"crimson_mech_saber.attack_damage.mainhand",type:"attack_damage",amount:13,operation:"add_value",slot:"mainhand"},{id:"crimson_mech_saber.attack_speed.mainhand",type:"attack_speed",amount:-2.4,operation:"add_value"}],consumable={consume_seconds:2147483647},enchantments={"minecraft:fire_aspect":5,"minecraft:sharpness":10}] 1
execute if score @s Choco.SotF.ScoreStorage.0 matches 2 run item replace entity @s weapon.mainhand with bow[max_damage=576,item_name={"italic":false,"text":"コンパウンドボウ"},item_model="survivalotfittest:compound_bow",custom_data={SotF:CompoundBow},enchantments={"minecraft:flame":10,"minecraft:power":10}] 1
execute if score @s Choco.SotF.ScoreStorage.0 matches 3 run item replace entity @s weapon.mainhand with iron_sword[item_model="survivalotfittest:rapier",item_name="レイピア",rarity="common",lore=[" ",{"color":"dark_gray","italic":false,"text":"走って攻撃したとき、防具貫通2ダメージが追加で発生し、"},{"color":"dark_gray","italic":false,"text":"何かに乗っている敵を突き落して短時間移動を封じることがことができます。"}," ",{"color":"gray","italic":false,"text":"利き手に持ったとき："},{"color":"dark_green","italic":false,"text":" 4 攻撃力"},{"color":"dark_green","italic":false,"text":" 2.0 攻撃速度"}],max_damage=230,attribute_modifiers=[{id:"mainhand.attack_damage",type:"attack_damage",amount:3,operation:"add_value",slot:"mainhand"},{id:"mainhand.attack_speed",type:"attack_speed",amount:-2.0,operation:"add_value",slot:"mainhand"}],tooltip_display={hidden_components:["attribute_modifiers"]},custom_data={SotF:Rapier},enchantments={"minecraft:knockback":4,"minecraft:sharpness":10}] 1
execute if score @s Choco.SotF.ScoreStorage.0 matches 4 run item replace entity @s weapon.mainhand with book[enchantments={"minecraft:thorns":10,"minecraft:fire_aspect":10,"minecraft:knockback":10}] 1

execute if score @s Choco.SotF.ScoreStorage.0 matches 4 run data merge entity @s {NoAI:1b}
execute unless score @s Choco.SotF.ScoreStorage.0 matches 4 run data merge entity @s {NoAI:0b}

scoreboard players set @s Choco.SotF.tick.2 0