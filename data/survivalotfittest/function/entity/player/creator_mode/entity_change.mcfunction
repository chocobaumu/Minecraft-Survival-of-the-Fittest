scoreboard players operation #CreatorMode.EntityChanged Choco.SotF.ScoreStorage.0 = #CreatorMode.EntityCount Choco.SotF.ScoreStorage.0
scoreboard players operation #CreatorMode.EntityChanged Choco.SotF.ScoreStorage.0 -= #CreatorMode.EntityChangedNow Choco.SotF.ScoreStorage.0

execute if score #CreatorMode.EntityChanged Choco.SotF.ScoreStorage.0 matches 20.. run tellraw @a[scores={Choco.SotF.CreatorMode=1}] [{"color":"red","italic":false,"text":"[警告⚠]"},{"color":"red","italic":false,"text":" エンティティ数が急速に増加しています。"},{"color":"dark_gray","italic":false,"score":{"name":"#CreatorMode.EntityChangedNow","objective":"Choco.SotF.ScoreStorage.0"}},{"color":"dark_gray","italic":false,"text":" -> "},{"color":"dark_gray","italic":false,"score":{"name":"#CreatorMode.EntityCount","objective":"Choco.SotF.ScoreStorage.0"}},{"color":"dark_gray","italic":false,"text":" in 40 ticks. "},{"clickEvent":{"action":"run_command","value":"/function survivalotfittest:entity/player/creator_mode/get_entities"},"color":"dark_gray","hoverEvent":{"action":"show_text","value":[{"text":"現在のエンティティの内訳を大雑把に表示します。","color":"white","italic":false}]},"italic":false,"text":"[詳細]"}]
#execute if score #CreatorMode.EntityChanged Choco.SotF.ScoreStorage.0 matches 20.. run tellraw @a[scores={Choco.SotF.CreatorMode=1}]

execute if score #CreatorMode.EntityChanged Choco.SotF.ScoreStorage.0 matches ..-20 run tellraw @a[scores={Choco.SotF.CreatorMode=1}] [{"color":"yellow","italic":false,"text":"[警告⚠]"},{"color":"yellow","italic":false,"text":" エンティティ数が急速に減少しています。"},{"color":"dark_gray","italic":false,"score":{"name":"#CreatorMode.EntityChangedNow","objective":"Choco.SotF.ScoreStorage.0"}},{"color":"dark_gray","italic":false,"text":" -> "},{"color":"dark_gray","italic":false,"score":{"name":"#CreatorMode.EntityCount","objective":"Choco.SotF.ScoreStorage.0"}},{"color":"dark_gray","italic":false,"text":" in 40 ticks."}]

execute store result score #CreatorMode.EntityChangedNow Choco.SotF.ScoreStorage.0 run execute if entity @e